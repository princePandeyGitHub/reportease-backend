export function generatePrompt({
  platform,
  projectData,
  problemStatement,
}) {
  const platformStyles = {
    linkedin: `
Tone: Professional, clear, slightly reflective
Audience: Developers, recruiters, tech professionals
Format:
- Short intro
- What I built
- Problem it solves
- Tech stack
- Learning / takeaway
- End with a soft CTA
Avoid emojis.
`,

    x: `
Tone: Casual, confident, concise
Audience: Developers, indie hackers
Format:
- Hook (1 line)
- What I built + why
- Tech stack inline
Keep under 280 characters.
Light emojis allowed.
`,

    instagram: `
Tone: Friendly, enthusiastic
Audience: Developers, learners
Format:
- Short intro
- What I built
- Problem solved
- Tech stack
- 3â€“5 relevant hashtags
Emojis allowed but not excessive.
`,
  };

  // --- Combine package description + README snippet ---
  let combinedDescription = projectData.description || "";
  if (projectData.hasReadme && projectData.readmeSnippet) {
    combinedDescription += `\n\nREADME snippet: ${projectData.readmeSnippet}`;
  }

  return `
You are a software developer sharing a real project you built.

PROJECT DETAILS:
Name: ${projectData.name || "Unnamed project"}
Description: ${combinedDescription || "No description provided"}
Tech Stack: ${
    projectData.techStack.length
      ? projectData.techStack.join(", ")
      : "Not clearly detected"
  }

PROBLEM THIS PROJECT SOLVES:
${problemStatement || "Problem not explicitly stated"}

PLATFORM GUIDELINES:
${platformStyles[platform]}

Rules:
- Do NOT invent features
- Do NOT exaggerate impact
- Do NOT mention being an AI
- Keep it authentic and human
- Output ONLY the final post text

Now write the post.
`;
}
